<template>
  <div class="container">
    <header class="header">
      <div class="logo">
        <span class="logo-emoji">üéôÔ∏è</span>
        <h1>–£–º–Ω—ã–µ —Ä–µ–∑—é–º–µ –≤–∏–¥–µ–æ</h1>
      </div>
      <p class="description">
        SummVideo –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ª—é–±–æ–µ –≤–∏–¥–µ–æ –≤ —Ç–µ–∫—Å—Ç –∏ —Å–æ–∑–¥–∞—ë—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ–∑—é–º–µ –∑–∞ —Å—á–∏—Ç–∞–Ω–Ω—ã–µ –º–∏–Ω—É—Ç—ã.
        –≠–∫–æ–Ω–æ–º—å—Ç–µ –¥–æ 90% –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≤–∏–¥–µ–æ–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–¥–æ–≤—ã—Ö AI-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.
      </p>
    </header>
    
    <main class="main">
      <section class="content-section">
        <TelegramAuth v-if="!isAuthenticated" />
        
        <article class="benefits-section" v-if="!isAuthenticated">
          <h2>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ SummVideo</h2>
          <div class="benefits-grid">
            <div class="benefit-card">
              <span class="benefit-icon">‚è±Ô∏è</span>
              <h3>–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏</h3>
              <p>–ü–æ–ª—É—á–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞ –º–∏–Ω—É—Ç—ã –≤–º–µ—Å—Ç–æ —á–∞—Å–æ–≤ —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã</p>
            </div>
            <div class="benefit-card">
              <span class="benefit-icon">üéØ</span>
              <h3>–í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å</h3>
              <p>–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ 98% –ø—Ä–∏ —Ö–æ—Ä–æ—à–µ–º –∫–∞—á–µ—Å—Ç–≤–µ –∞—É–¥–∏–æ</p>
            </div>
            <div class="benefit-card">
              <span class="benefit-icon">üìä</span>
              <h3>–£–º–Ω—ã–µ —Ä–µ–∑—é–º–µ</h3>
              <p>–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Å–ø–µ–∫—Ç—ã, –≤—ã–¥–µ–ª—è—é—â–∏–µ –≥–ª–∞–≤–Ω–æ–µ –∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</p>
            </div>
            <div class="benefit-card">
              <span class="benefit-icon">üß©</span>
              <h3>–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞</h3>
              <p>–í—ã–±–æ—Ä —à–∞–±–ª–æ–Ω–æ–≤ —Ä–µ–∑—é–º–µ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞</p>
            </div>
            <div class="benefit-card">
              <span class="benefit-icon">üîÑ</span>
              <h3>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è</h3>
              <p>–ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –≥–æ—Ç–æ–≤–æ–≥–æ —Ä–µ–∑—é–º–µ</p>
            </div>
            <div class="benefit-card">
              <span class="benefit-icon">üîç</span>
              <h3>–ü–æ–ª–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è</h3>
              <p>–ü–æ–ª—É—á–∞–π—Ç–µ –Ω–µ —Ç–æ–ª—å–∫–æ —Ä–µ–∑—é–º–µ, –Ω–æ –∏ –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –≤–∏–¥–µ–æ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</p>
            </div>
          </div>
        </article>
      
        <template v-else>
          <UploadForm v-if="!isProcessing && !summary" />
          
          <ProcessingIndicator v-if="isProcessing" />
          
          <div class="results" v-if="summary">
            <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞ –≤–∏–¥–µ–æ</h2>
            <ResultDisplay :summary="summary" />
            
            <div class="actions">
              <button class="btn btn-primary" @click="resetForm">
                <span class="icon">üîÑ</span> –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ—â–µ –≤–∏–¥–µ–æ
              </button>
            </div>
            
            <TranscriptionViewer v-if="transcription" :transcription="transcription" />
          </div>
        </template>
      </section>
      
      <section class="faq-section" v-if="!isAuthenticated">
        <h2>–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>
        <div class="faq-grid">
          <div class="faq-item">
            <h3>–ö–∞–∫–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤–∏–¥–µ–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è?</h3>
            <p>SummVideo –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤–∏–¥–µ–æ (MP4, AVI, MOV, WMV, MKV). –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ ‚Äî 500 –ú–ë.</p>
          </div>
          <div class="faq-item">
            <h3>–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç —Ä–µ–∑—é–º–µ?</h3>
            <p>–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω (–¥–µ–ª–æ–≤—ã–µ –≤—Å—Ç—Ä–µ—á–∏, –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –≤–∏–¥–µ–æ) –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –∑–∞–ø—Ä–æ—Å —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.</p>
          </div>
          <div class="faq-item">
            <h3>–ö–∞–∫ –¥–æ–ª–≥–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤–∏–¥–µ–æ?</h3>
            <p>–í —Å—Ä–µ–¥–Ω–µ–º 3-5 –º–∏–Ω—É—Ç –¥–ª—è –≤–∏–¥–µ–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é 1 —á–∞—Å ‚Äî –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ —Ä—É—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.</p>
          </div>
          <div class="faq-item">
            <h3>–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞?</h3>
            <p>–ü–µ—Ä–≤—ã–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –∏ —Ä–µ–∑—é–º–µ ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ! –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Telegram –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º.</p>
          </div>
        </div>
      </section>
    </main>
    
    <footer class="footer">
      <p>¬© {{ new Date().getFullYear() }} SummVideo ‚Äî —É–º–Ω—ã–µ —Ä–µ–∑—é–º–µ –≤–∏–¥–µ–æ</p>
    </footer>
  </div>
</template>

<script>
import { computed } from 'vue';
import { useStore } from 'vuex';
import UploadForm from '@/components/UploadForm.vue';
import ProcessingIndicator from '@/components/ProcessingIndicator.vue';
import ResultDisplay from '@/components/ResultDisplay.vue';
import TranscriptionViewer from '@/components/TranscriptionViewer.vue';
import TelegramAuth from '@/components/TelegramAuth.vue';

export default {
  name: 'HomeView',
  components: {
    UploadForm,
    ProcessingIndicator,
    ResultDisplay,
    TranscriptionViewer,
    TelegramAuth
  },
  setup() {
    const store = useStore();

    const resetForm = () => {
      store.commit('CLEAR_RESULTS');
    };

    return {
      isProcessing: computed(() => store.getters.isProcessing),
      summary: computed(() => store.getters.getSummary),
      transcription: computed(() => store.getters.getTranscription),
      error: computed(() => store.getters.getError),
      isAuthenticated: computed(() => store.getters['auth/isAuthenticated']),
      resetForm
    };
  }
}
</script>

<style scoped>
.container {
  width: 100%;
  max-width: 1000px;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.header {
  text-align: center;
  margin-bottom: 2.5rem;
  padding-bottom: 1.8rem;
  border-bottom: 1px solid var(--gray-color);
}

.logo {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 1.5rem;
}

.logo-emoji {
  font-size: 2.5rem;
  margin-right: 1rem;
}

.logo h1 {
  font-size: 2.2rem;
  margin: 0;
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  line-height: 1.3;
  max-width: 800px;
}

.description {
  max-width: 800px;
  margin: 0 auto;
  color: #4b5563;
  font-size: 1.15rem;
  line-height: 1.6;
}

.main {
  flex: 1;
}

.content-section {
  background-color: white;
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  padding: 2.5rem;
  margin-bottom: 2.5rem;
}

.benefits-section {
  margin-bottom: 3rem;
}

.benefits-section h2 {
  text-align: center;
  margin-bottom: 2rem;
  color: var(--dark-color);
  font-size: 1.8rem;
}

.benefits-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
  gap: 1.5rem;
}

.benefit-card {
  padding: 1.5rem;
  border-radius: var(--border-radius);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  text-align: center;
}

.benefit-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}

.benefit-icon {
  font-size: 2.5rem;
  display: block;
  margin-bottom: 1rem;
}

.benefit-card h3 {
  margin: 0 0 0.8rem;
  font-size: 1.3rem;
  color: var(--primary-color);
}

.benefit-card p {
  color: #4b5563;
  margin: 0;
  line-height: 1.5;
}

.faq-section {
  background-color: white;
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  padding: 2.5rem;
  margin-bottom: 2.5rem;
}

.faq-section h2 {
  text-align: center;
  margin-bottom: 2rem;
  color: var(--dark-color);
  font-size: 1.8rem;
}

.faq-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.faq-item {
  padding: 1.5rem;
  border-radius: var(--border-radius);
  background-color: #f9fafb;
  border-left: 4px solid var(--primary-color);
}

.faq-item h3 {
  margin: 0 0 0.8rem;
  font-size: 1.2rem;
  color: var(--dark-color);
}

.faq-item p {
  color: #4b5563;
  margin: 0;
  line-height: 1.5;
}

.results h2 {
  text-align: center;
  margin-bottom: 1.8rem;
  color: var(--dark-color);
  font-size: 1.8rem;
}

.actions {
  display: flex;
  justify-content: center;
  margin: 2.5rem 0;
}

.btn {
  display: inline-flex;
  align-items: center;
  padding: 0.8rem 1.8rem;
  border-radius: var(--border-radius);
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
  border: none;
  font-size: 1.1rem;
}

.btn-primary {
  background-color: var(--primary-color);
  color: white;
}

.btn-primary:hover {
  background-color: #2779bd;
  transform: translateY(-3px);
  box-shadow: 0 5px 15px rgba(0, 110, 220, 0.2);
}

.icon {
  margin-right: 0.5rem;
}

.footer {
  text-align: center;
  padding: 2rem 0;
  color: #4b5563;
  font-size: 0.95rem;
  border-top: 1px solid var(--gray-color);
  margin-top: 1.5rem;
}

@media (max-width: 768px) {
  .header {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
  }
  
  .content-section, .faq-section {
    padding: 1.8rem;
  }

  .logo-emoji {
    font-size: 2rem;
  }

  .logo h1 {
    font-size: 1.8rem;
  }

  .description {
    font-size: 1rem;
    padding: 0 1rem;
  }
  
  .benefits-grid, .faq-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 480px) {
  .content-section, .faq-section {
    padding: 1.5rem;
  }
  
  .benefit-card, .faq-item {
    padding: 1.2rem;
  }
  
  .logo h1 {
    font-size: 1.6rem;
  }
}
</style>