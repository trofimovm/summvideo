(()=>{"use strict";var e={74492:(e,t,n)=>{n(23792),n(3362),n(69085),n(9391);var r=n(45130),a=n(56768);function o(e,t){var n=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.Wv)(n)}var s=n(71241);const i={},c=(0,s.A)(i,[["render",o]]),u=c;var l=n(81387),p=(n(23288),n(24232)),d={class:"container"},v={class:"main"},m={class:"content-section"},f={key:2,class:"results"},h={class:"actions"},g={class:"footer"};function T(e,t,n,r,o,s){var i=(0,a.g2)("TelegramAuth"),c=(0,a.g2)("UploadForm"),u=(0,a.g2)("ProcessingIndicator"),l=(0,a.g2)("ResultDisplay"),T=(0,a.g2)("TranscriptionViewer");return(0,a.uX)(),(0,a.CE)("div",d,[t[3]||(t[3]=(0,a.Lk)("header",{class:"header"},[(0,a.Lk)("div",{class:"logo"},[(0,a.Lk)("span",{class:"logo-emoji"},"üéôÔ∏è"),(0,a.Lk)("h1",null,"SummVideo")]),(0,a.Lk)("p",{class:"description"}," –°–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫—Ä–∞—Ç–∫–∏—Ö —Å–∞–º–º–∞—Ä–∏ –∏–∑ –≤–∏–¥–µ–æ–∫–æ–Ω—Ç–µ–Ω—Ç–∞. –° –ø–æ–º–æ—â—å—é AI-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –æ–Ω –≤—ã–¥–µ–ª—è–µ—Ç –≥–ª–∞–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏–∑ –ª—é–±–æ–≥–æ –≤–∏–¥–µ–æ, —ç–∫–æ–Ω–æ–º—è –≤–∞—à–µ –≤—Ä–µ–º—è –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —Ç–æ–ª—å–∫–æ —Å–∞–º—É—é –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. ")],-1)),(0,a.Lk)("main",v,[(0,a.Lk)("section",m,[r.isAuthenticated?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[r.isProcessing||r.summary?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(c,{key:0})),r.isProcessing?((0,a.uX)(),(0,a.Wv)(u,{key:1})):(0,a.Q3)("",!0),r.summary?((0,a.uX)(),(0,a.CE)("div",f,[t[2]||(t[2]=(0,a.Lk)("h2",null,"–†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞",-1)),(0,a.bF)(l,{summary:r.summary},null,8,["summary"]),(0,a.Lk)("div",h,[(0,a.Lk)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=function(){return r.resetForm&&r.resetForm.apply(r,arguments)})},t[1]||(t[1]=[(0,a.Lk)("span",{class:"icon"},"üîÑ",-1),(0,a.eW)(" –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ—â–µ –≤–∏–¥–µ–æ ")]))]),r.transcription?((0,a.uX)(),(0,a.Wv)(T,{key:0,transcription:r.transcription},null,8,["transcription"])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)],64)):((0,a.uX)(),(0,a.Wv)(i,{key:0}))])]),(0,a.Lk)("footer",g,[(0,a.Lk)("p",null,"¬© "+(0,p.v_)((new Date).getFullYear())+" SummVideo - AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤–∏–¥–µ–æ",1)])])}var k=n(60782),E=(n(62010),{class:"upload-form-container"}),S={class:"form-group"},y={for:"file",class:"file-label"},L={class:"file-icon"},_={key:0},b={key:1},A={class:"file-info"},C={key:0},w={key:1},R={class:"form-group"},P=["value"],O={class:"form-group"},I={class:"form-actions"},x=["disabled"];function U(e,t,n,o,s,i){return(0,a.uX)(),(0,a.CE)("div",E,[t[10]||(t[10]=(0,a.Lk)("h2",null,"–ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∏–¥–µ–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞",-1)),(0,a.Lk)("form",{onSubmit:t[4]||(t[4]=(0,r.D$)((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["prevent"])),class:"upload-form"},[(0,a.Lk)("div",S,[(0,a.Lk)("label",y,[(0,a.Lk)("div",{class:(0,p.C4)(["file-upload-area",{"has-file":o.selectedFileName}])},[(0,a.Lk)("div",L,[o.selectedFileName?((0,a.uX)(),(0,a.CE)("span",b,"üé•")):((0,a.uX)(),(0,a.CE)("span",_,"üì§"))]),(0,a.Lk)("div",A,[o.selectedFileName?((0,a.uX)(),(0,a.CE)("span",w,(0,p.v_)(o.selectedFileName),1)):((0,a.uX)(),(0,a.CE)("span",C,"–í—ã–±–µ—Ä–∏—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≤–∏–¥–µ–æ—Ñ–∞–π–ª")),t[5]||(t[5]=(0,a.Lk)("small",null,"–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 500 –ú–ë",-1))])],2),(0,a.Lk)("input",{type:"file",id:"file",ref:"fileInput",accept:"video/*",required:"",onChange:t[0]||(t[0]=function(){return o.handleFileChange&&o.handleFileChange.apply(o,arguments)}),class:"file-input"},null,544)])]),(0,a.Lk)("div",R,[t[7]||(t[7]=(0,a.Lk)("label",{for:"template-select"},"–®–∞–±–ª–æ–Ω –ø—Ä–æ–º—Ç–∞:",-1)),(0,a.bo)((0,a.Lk)("select",{id:"template-select","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.selectedTemplateId=e}),onChange:t[2]||(t[2]=function(){return o.handleTemplateChange&&o.handleTemplateChange.apply(o,arguments)}),class:"form-control"},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.promptTemplates,(function(e){return(0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,p.v_)(e.name),9,P)})),128)),t[6]||(t[6]=(0,a.Lk)("option",{value:"custom_prompt"},"–°–≤–æ–π –ø—Ä–æ–º—Ç",-1))],544),[[r.u1,o.selectedTemplateId]])]),(0,a.Lk)("div",O,[t[8]||(t[8]=(0,a.Lk)("label",{for:"prompt"},"–ü—Ä–æ–º—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:",-1)),(0,a.bo)((0,a.Lk)("textarea",{id:"prompt","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.promptText=e}),required:"",class:"form-control",rows:"6"},null,512),[[r.Jo,o.promptText]])]),(0,a.Lk)("div",I,[(0,a.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:o.isProcessing||!o.selectedFile},[t[9]||(t[9]=(0,a.Lk)("span",{class:"icon"},"üöÄ",-1)),(0,a.eW)(" "+(0,p.v_)(o.isProcessing?"–û–±—Ä–∞–±–æ—Ç–∫–∞...":"–û—Ç–ø—Ä–∞–≤–∏—Ç—å"),1)],8,x)])],32)])}n(50113),n(18111),n(20116),n(26099);var F=n(90144);const X={name:"UploadForm",setup:function(){var e=(0,k.Pj)(),t=(0,F.KR)(null),n=(0,F.KR)(null),r=(0,F.KR)(""),o=(0,F.KR)(""),s=(0,F.KR)(""),i=(0,a.EW)((function(){return e.getters.getPromptTemplates})),c=(0,a.EW)((function(){return e.getters.isProcessing}));(0,a.sV)((function(){e.dispatch("loadPromptTemplates").then((function(){i.value.length>0&&(o.value=i.value[0].id,l())}))})),(0,a.wB)(o,(function(){l()}));var u=function(e){var t=e.target.files[0];t?(n.value=t,r.value=t.name):(n.value=null,r.value="")},l=function(){if("custom_prompt"!==o.value){var e=i.value.find((function(e){return e.id===o.value}));e&&(s.value=e.text)}else s.value=""},p=function(){n.value&&s.value&&e.dispatch("processVideo",{file:n.value,prompt:s.value})};return{fileInput:t,selectedFile:n,selectedFileName:r,selectedTemplateId:o,promptText:s,promptTemplates:i,isProcessing:c,handleFileChange:u,handleTemplateChange:l,submitForm:p}}},j=(0,s.A)(X,[["render",U],["__scopeId","data-v-6220698e"]]),W=j;var V={class:"processing-container"};function K(e,t,n,r,o,s){return(0,a.uX)(),(0,a.CE)("div",V,t[0]||(t[0]=[(0,a.Fv)('<div class="processing-content" data-v-3af52485><div class="spinner-container" data-v-3af52485><div class="spinner" data-v-3af52485></div></div><h3 data-v-3af52485>–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ</h3><p class="processing-message" data-v-3af52485> –í–∞—à–µ –≤–∏–¥–µ–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é AI. –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞. </p><div class="processing-steps" data-v-3af52485><div class="step" data-v-3af52485><div class="step-icon" data-v-3af52485>üì§</div><div class="step-desc" data-v-3af52485>–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—É–¥–∏–æ</div></div><div class="step" data-v-3af52485><div class="step-icon" data-v-3af52485>üéôÔ∏è</div><div class="step-desc" data-v-3af52485>–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞</div></div><div class="step" data-v-3af52485><div class="step-icon" data-v-3af52485>üß†</div><div class="step-desc" data-v-3af52485>–ê–Ω–∞–ª–∏–∑ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è</div></div><div class="step" data-v-3af52485><div class="step-icon" data-v-3af52485>üìù</div><div class="step-desc" data-v-3af52485>–°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–º–º–∞—Ä–∏</div></div></div></div>',1)]))}const M={name:"ProcessingIndicator"},N=(0,s.A)(M,[["render",K],["__scopeId","data-v-3af52485"]]),D=N;var G={class:"result-container"},Q={class:"result-content-wrapper"},H={class:"result-actions"},q={class:"copy-icon"},B=["innerHTML"];function z(e,t,n,r,o,s){return(0,a.uX)(),(0,a.CE)("div",G,[t[1]||(t[1]=(0,a.Lk)("div",{class:"result-header"},[(0,a.Lk)("div",{class:"divider"},[(0,a.Lk)("span",{class:"divider-icon"},"‚ú®")])],-1)),(0,a.Lk)("div",Q,[(0,a.Lk)("div",H,[(0,a.Lk)("button",{class:(0,p.C4)(["copy-btn",{copied:r.isCopied}]),onClick:t[0]||(t[0]=function(){return r.copyToClipboard&&r.copyToClipboard.apply(r,arguments)})},[(0,a.Lk)("span",q,(0,p.v_)(r.isCopied?"‚úì":"üìã"),1),(0,a.eW)(" "+(0,p.v_)(r.isCopied?"–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!":"–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å"),1)],2)]),(0,a.Lk)("div",{class:"result-content",innerHTML:r.formattedSummary,ref:"contentEl"},null,8,B)])])}n(76031);var J=n(11451),Y=n.n(J);const $={name:"ResultDisplay",props:{summary:{type:String,required:!0}},setup:function(e){var t=new(Y())({html:!0,linkify:!0,typographer:!0}),n=(0,F.KR)(null),r=(0,F.KR)(!1),o=(0,a.EW)((function(){return e.summary?t.render(e.summary):""})),s=function(){if(n.value){var e=document.createElement("div");e.innerHTML=n.value.innerHTML;var t=e.textContent||e.innerText||"";navigator.clipboard.writeText(t).then((function(){r.value=!0,setTimeout((function(){r.value=!1}),2e3)}))["catch"]((function(e){console.error("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç: ",e)}))}};return{formattedSummary:o,contentEl:n,copyToClipboard:s,isCopied:r}}},Z=(0,s.A)($,[["render",z],["__scopeId","data-v-708cd378"]]),ee=Z;var te={class:"transcription-container"},ne={class:"icon"},re={key:0,class:"transcription-panel"},ae={class:"transcription-header"},oe={class:"copy-icon"},se={class:"transcription-content"};function ie(e,t,n,o,s,i){return(0,a.uX)(),(0,a.CE)("div",te,[(0,a.Lk)("button",{class:"toggle-btn",onClick:t[0]||(t[0]=function(){return o.toggleTranscription&&o.toggleTranscription.apply(o,arguments)})},[(0,a.Lk)("span",ne,(0,p.v_)(o.isVisible?"üìú":"üìÑ"),1),(0,a.eW)(" "+(0,p.v_)(o.isVisible?"–°–∫—Ä—ã—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é":"–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω—É—é —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é"),1)]),(0,a.bF)(r.eB,{name:"slide-fade"},{default:(0,a.k6)((function(){return[o.isVisible?((0,a.uX)(),(0,a.CE)("div",re,[(0,a.Lk)("div",ae,[t[2]||(t[2]=(0,a.Lk)("h3",null,"–ü–æ–ª–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è",-1)),(0,a.Lk)("button",{class:(0,p.C4)(["copy-btn",{copied:o.isCopied}]),onClick:t[1]||(t[1]=function(){return o.copyToClipboard&&o.copyToClipboard.apply(o,arguments)})},[(0,a.Lk)("span",oe,(0,p.v_)(o.isCopied?"‚úì":"üìã"),1),(0,a.eW)(" "+(0,p.v_)(o.isCopied?"–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!":"–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å"),1)],2)]),(0,a.Lk)("div",se,[(0,a.Lk)("div",{class:"transcription-text",ref:"transcriptionEl"},(0,p.v_)(n.transcription),513)])])):(0,a.Q3)("",!0)]})),_:1})])}const ce={name:"TranscriptionViewer",props:{transcription:{type:String,required:!0}},setup:function(e){var t=(0,F.KR)(!1),n=(0,F.KR)(!1),r=(0,F.KR)(null),a=function(){t.value=!t.value},o=function(){r.value&&navigator.clipboard.writeText(e.transcription).then((function(){n.value=!0,setTimeout((function(){n.value=!1}),2e3)}))["catch"]((function(e){console.error("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç: ",e)}))};return{isVisible:t,toggleTranscription:a,transcriptionEl:r,copyToClipboard:o,isCopied:n}}},ue=(0,s.A)(ce,[["render",ie],["__scopeId","data-v-5d985359"]]),le=ue;var pe={class:"auth-container"},de={class:"auth-card"},ve={class:"auth-body"},me={class:"telegram-widget-container",ref:"telegramLoginWidget"},fe={key:0,class:"auth-error"},he={class:"auth-info"},ge={key:0,class:"dev-mode"};function Te(e,t,n,r,o,s){return(0,a.uX)(),(0,a.CE)("div",pe,[(0,a.Lk)("div",de,[t[4]||(t[4]=(0,a.Lk)("div",{class:"auth-header"},[(0,a.Lk)("h2",null,"–í—Ö–æ–¥ –≤ SummVideo"),(0,a.Lk)("p",null,"–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞, –≤–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Telegram")],-1)),(0,a.Lk)("div",ve,[(0,a.Lk)("div",me,null,512),r.error?((0,a.uX)(),(0,a.CE)("div",fe,(0,p.v_)(r.error),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",he,[t[2]||(t[2]=(0,a.Lk)("p",null,"–ò—Å–ø–æ–ª—å–∑—É—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ Telegram, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å –Ω–∞—à–∏–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.",-1)),t[3]||(t[3]=(0,a.Lk)("p",null,"–ú—ã –Ω–µ —Ö—Ä–∞–Ω–∏–º –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤–∞—à –ø–∞—Ä–æ–ª—å –æ—Ç Telegram.",-1)),r.showDevMode?((0,a.uX)(),(0,a.CE)("div",ge,[(0,a.Lk)("button",{class:"dev-mode-btn",onClick:t[0]||(t[0]=function(){return r.handleDevLogin&&r.handleDevLogin.apply(r,arguments)})}," –í–æ–π—Ç–∏ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ "),t[1]||(t[1]=(0,a.Lk)("p",{class:"dev-mode-info"},"–≠—Ç–∞ –æ–ø—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏",-1))])):(0,a.Q3)("",!0)])])])])}var ke=n(14048),Ee=n(30388);n(16280),n(76918),n(51629),n(59089),n(7588),n(79432),n(38781),n(47764),n(23500),n(62953),n(48408),n(14603),n(47566),n(98721);const Se={name:"TelegramAuth",setup:function(){var e=(0,k.Pj)(),t=(0,F.KR)(null),n=(0,F.KR)(""),r=(0,F.KR)(!0),o=(0,a.EW)((function(){return e.getters["auth/isAuthenticated"]}));(0,a.sV)((function(){try{var e=document.createElement("script");e.src="https://telegram.org/js/telegram-widget.js?21",e.setAttribute("data-telegram-login","SummVideoBot"),e.setAttribute("data-size","large"),e.setAttribute("data-radius","8"),e.setAttribute("data-request-access","write"),e.setAttribute("data-userpic","true"),e.setAttribute("data-onauth","onTelegramAuth(user)"),e.async=!0,window.onTelegramAuth=function(e){s(e)},t.value&&(t.value.innerHTML="",t.value.appendChild(e))}catch(a){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Telegram –≤–∏–¥–∂–µ—Ç–∞:",a),n.value="–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤–∏–¥–∂–µ—Ç Telegram. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.",r.value=!0}}));var s=function(){var t=(0,Ee.A)((0,ke.A)().mark((function t(a){var s,i,c;return(0,ke.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n.value="",s=new URLSearchParams,Object.keys(a).forEach((function(e){s.append(e,a[e])})),t.next=6,fetch("/auth/telegram?".concat(s.toString()),{method:"GET",headers:{"Content-Type":"application/json"}});case 6:return i=t.sent,t.next=9,i.json();case 9:if(c=t.sent,i.ok){t.next=12;break}throw new Error(c.error||"–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");case 12:e.commit("auth/SET_TOKEN",c.token),e.commit("auth/SET_USER",c.user),o.value&&e.dispatch("resetResults"),t.next=22;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error("–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Telegram:",t.t0),n.value=t.t0.message||"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏",r.value=!0;case 22:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t={id:123456789,first_name:"Test",last_name:"User",username:"test_user",photo_url:"",auth_date:Math.floor(Date.now()/1e3),hash:"dev_mode_hash"};e.commit("auth/SET_TOKEN","dev_mode_token"),e.commit("auth/SET_USER",t),e.dispatch("resetResults")};return{telegramLoginWidget:t,error:n,isAuthenticated:o,showDevMode:r,handleDevLogin:i}}},ye=(0,s.A)(Se,[["render",Te],["__scopeId","data-v-5035c301"]]),Le=ye,_e={name:"HomeView",components:{UploadForm:W,ProcessingIndicator:D,ResultDisplay:ee,TranscriptionViewer:le,TelegramAuth:Le},setup:function(){var e=(0,k.Pj)(),t=function(){e.commit("CLEAR_RESULTS")};return{isProcessing:(0,a.EW)((function(){return e.getters.isProcessing})),summary:(0,a.EW)((function(){return e.getters.getSummary})),transcription:(0,a.EW)((function(){return e.getters.getTranscription})),error:(0,a.EW)((function(){return e.getters.getError})),isAuthenticated:(0,a.EW)((function(){return e.getters["auth/isAuthenticated"]})),resetForm:t}}},be=(0,s.A)(_e,[["render",T],["__scopeId","data-v-52952711"]]),Ae=be;var Ce=[{path:"/",name:"home",component:Ae}],we=(0,l.aE)({history:(0,l.LA)("/"),routes:Ce});const Re=we;var Pe=n(51003),Oe="",Ie={getPromptTemplates:function(){return(0,Ee.A)((0,ke.A)().mark((function e(){var t;return(0,ke.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pe.A.get("".concat(Oe,"/static/prompts.json"));case 3:return t=e.sent,e.abrupt("return",t.data.templates);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error fetching prompt templates:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},uploadVideo:function(e,t,n){return(0,Ee.A)((0,ke.A)().mark((function r(){var a,o,s;return(0,ke.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,a=new FormData,a.append("file",e),a.append("prompt",t),o={"Content-Type":"multipart/form-data"},n&&(o["Authorization"]="Bearer ".concat(n)),r.next=8,Pe.A.post("".concat(Oe,"/upload_video/"),a,{headers:o});case 8:return s=r.sent,r.abrupt("return",s.data);case 12:throw r.prev=12,r.t0=r["catch"](0),console.error("Error uploading video:",r.t0),r.t0;case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()}};const xe=Ie;n(60739),n(33110);var Ue={token:localStorage.getItem("token")||"",user:JSON.parse(localStorage.getItem("user")||"null"),status:""},Fe={isAuthenticated:function(e){return!!e.token},getUser:function(e){return e.user},getStatus:function(e){return e.status},getToken:function(e){return e.token}},Xe={SET_TOKEN:function(e,t){e.token=t,localStorage.setItem("token",t)},SET_USER:function(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(t))},SET_STATUS:function(e,t){e.status=t},LOGOUT:function(e){e.token="",e.user=null,e.status="",localStorage.removeItem("token"),localStorage.removeItem("user")}},je={telegramAuth:function(e,t){var n=e.commit;return new Promise((function(e,r){n("SET_STATUS","loading");var a=new URLSearchParams;Object.keys(t).forEach((function(e){a.append(e,t[e])})),fetch("/auth/telegram?".concat(a.toString())).then((function(e){return e.json()})).then((function(t){t.error?(n("SET_STATUS","error"),r(t.error)):(n("SET_TOKEN",t.token),n("SET_USER",t.user),n("SET_STATUS","success"),e(t))}))["catch"]((function(e){n("SET_STATUS","error"),r(e)}))}))},checkAuth:function(e){var t=e.commit,n=e.state;return new Promise((function(e,r){if(!n.token)return t("LOGOUT"),void r(new Error("No auth token"));t("SET_STATUS","loading"),fetch("/profile",{headers:{Authorization:"Bearer ".concat(n.token)}}).then((function(e){if(!e.ok)throw new Error("Token invalid");return e.json()})).then((function(n){t("SET_USER",n.user),t("SET_STATUS","success"),e(n)}))["catch"]((function(e){t("LOGOUT"),r(e)}))}))},logout:function(e){var t=e.commit;return new Promise((function(e){t("LOGOUT"),e()}))}};const We={namespaced:!0,state:Ue,getters:Fe,mutations:Xe,actions:je},Ve=(0,k.y$)({modules:{auth:We},state:{promptTemplates:[],isProcessing:!1,summary:"",transcription:"",error:null},getters:{getPromptTemplates:function(e){return e.promptTemplates},isProcessing:function(e){return e.isProcessing},getSummary:function(e){return e.summary},getTranscription:function(e){return e.transcription},getError:function(e){return e.error}},mutations:{SET_PROMPT_TEMPLATES:function(e,t){e.promptTemplates=t},SET_PROCESSING:function(e,t){e.isProcessing=t},SET_SUMMARY:function(e,t){e.summary=t},SET_TRANSCRIPTION:function(e,t){e.transcription=t},SET_ERROR:function(e,t){e.error=t},CLEAR_RESULTS:function(e){e.summary="",e.transcription="",e.error=null}},actions:{loadPromptTemplates:function(e){return(0,Ee.A)((0,ke.A)().mark((function t(){var n,r;return(0,ke.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,xe.getPromptTemplates();case 4:r=t.sent,n("SET_PROMPT_TEMPLATES",r),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),n("SET_ERROR","–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —à–∞–±–ª–æ–Ω—ã –ø—Ä–æ–º–ø—Ç–æ–≤"),console.error("Error loading prompt templates:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},processVideo:function(e,t){return(0,Ee.A)((0,ke.A)().mark((function n(){var r,a,o,s,i,c;return(0,ke.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.rootGetters,o=t.file,s=t.prompt,r("CLEAR_RESULTS"),r("SET_PROCESSING",!0),n.prev=4,i=a["auth/getToken"],n.next=8,xe.uploadVideo(o,s,i);case 8:c=n.sent,r("SET_SUMMARY",c.summary),r("SET_TRANSCRIPTION",c.transcription),n.next=17;break;case 13:n.prev=13,n.t0=n["catch"](4),r("SET_ERROR","–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ: "+n.t0.message),console.error("Error processing video:",n.t0);case 17:return n.prev=17,r("SET_PROCESSING",!1),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[4,13,17,20]])})))()}}});(0,r.Ef)(u).use(Ve).use(Re).mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,(()=>{var e=[];n.O=(t,r,a,o)=>{if(!r){var s=1/0;for(l=0;l<e.length;l++){for(var[r,a,o]=e[l],i=!0,c=0;c<r.length;c++)(!1&o||s>=o)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(i=!1,o<s&&(s=o));if(i){e.splice(l--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,a,o]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[s,i,c]=r,u=0;if(s.some((t=>0!==e[t]))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(c)var l=c(n)}for(t&&t(r);u<s.length;u++)o=s[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},r=self["webpackChunksummvideo_frontend"]=self["webpackChunksummvideo_frontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[504],(()=>n(74492)));r=n.O(r)})();
//# sourceMappingURL=app.cdf06abd.js.map